<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Request a free gardening quote across Cornwall. Tell us what you need, pick a preferred date and we'll get back to you with a price. Lawn cutting, hedge trimming & more.">
    <meta name="keywords" content="gardening quote Cornwall, free garden quote, lawn cutting quote Cornwall, garden service enquiry, hedge trimming quote St Austell, garden clearance quote Newquay, garden enquiry near me">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://gardnersgm.co.uk/booking.html">
    <meta property="og:title" content="Get a Free Quote — Gardners Ground Maintenance">
    <meta property="og:description" content="Request a free gardening quote. Tell us what you need and we'll price it up for you.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://gardnersgm.co.uk/booking.html">
    <meta property="og:image" content="https://gardnersgm.co.uk/images/hero/cornwall-coast-hero.jpg">
    <meta property="og:site_name" content="Gardners Ground Maintenance">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Get a Free Quote — Gardners Ground Maintenance">
    <meta name="twitter:description" content="Request a free gardening quote across Cornwall.">
    <meta name="twitter:image" content="https://gardnersgm.co.uk/images/hero/cornwall-coast-hero.jpg">
    <title>Get a Free Quote — Gardners Ground Maintenance</title>
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.css">
    <link rel="stylesheet" href="css/style.css">
    <!-- Stripe removed — enquiry-only flow, no payments on website -->
    <style>
        /* HIDDEN: Subscription showcase styles — re-enable if subscriptions return
        .sub-showcase-card{background:#fff;border:2px solid #e0e0e0;border-radius:12px;padding:24px 20px;text-align:center;transition:transform .2s,box-shadow .2s;position:relative;}
        .sub-showcase-card:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(0,0,0,.1);}
        .sub-showcase-popular{border-color:#2E7D32;box-shadow:0 4px 16px rgba(46,125,50,.15);}
        .sub-showcase-badge{position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:#2E7D32;color:#fff;padding:4px 16px;border-radius:20px;font-size:12px;font-weight:700;white-space:nowrap;}
        .sub-showcase-name{font-size:1.1rem;font-weight:700;color:#333;margin-bottom:4px;}
        .sub-showcase-price{font-size:2rem;font-weight:800;color:#1B5E20;}
        .sub-showcase-price span{font-size:.9rem;font-weight:500;color:#888;}
        .sub-showcase-freq{color:#888;font-size:.85rem;margin-bottom:12px;}
        .sub-showcase-features{list-style:none;padding:0;margin:0 0 16px;text-align:left;}
        .sub-showcase-features li{padding:5px 0;font-size:.9rem;color:#555;}
        .sub-showcase-features i{color:#2E7D32;margin-right:6px;font-size:.8rem;}
        .sub-showcase-btn{display:block;background:#f5f5f5;color:#1B5E20;padding:10px;border-radius:8px;text-decoration:none;font-weight:700;font-size:.95rem;transition:background .2s;}
        .sub-showcase-btn:hover{background:#E8F5E9;}
        .sub-showcase-btn-pop{background:#1B5E20;color:#fff;}
        .sub-showcase-btn-pop:hover{background:#2E7D32;}
        END HIDDEN */
        @media (max-width: 600px) {
            .bespoke-2col { grid-template-columns: 1fr !important; }
        }
    </style>
    <script type="application/ld+json">
    {"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://gardnersgm.co.uk/"},{"@type":"ListItem","position":2,"name":"Get a Quote","item":"https://gardnersgm.co.uk/booking.html"}]}
    </script>
</head>
<body>

    <!-- HEADER -->
    <header class="header">
        <div class="container">
            <a href="index.html" class="logo"><img src="images/logo.png" alt="Gardners Ground Maintenance"></a>
            <nav class="nav-links">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="services.html">Services</a>
                <!-- HIDDEN: <a href="subscribe.html">Subscriptions</a> -->
                <a href="booking.html">Get a Quote</a>
                <a href="blog.html">Blog</a>
                <a href="testimonials.html">Testimonials</a>
                <a href="contact.html">Contact</a>
                <a href="booking.html" class="nav-cta">Get a Quote</a>
            </nav>
            <button class="hamburger" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <main>

    <!-- PAGE HERO -->
    <section class="page-hero">
        <div class="page-hero-bg" style="background-image: url('images/general/lawn-mower-closeup.jpg');"></div>
        <h1>Get a Free Gardening Quote</h1>
        <p>Tell us what you need, pick a preferred date, and we'll get back to you with a personalised quote</p>
    </section>

    <!-- BOOKING FORM -->
    <section class="section">
        <div class="container" style="max-width: 800px;">

            <!-- Success Message (hidden by default) -->
            <div class="booking-success" id="bookingSuccess" style="display: none;">
                <div class="success-icon"><i class="fas fa-check-circle"></i></div>
                <h2>Enquiry Received!</h2>
                <p id="successMsg">Thank you! We've received your enquiry and Chris will review it and get back to you with a quote, usually within 24 hours.</p>
                <p style="margin-top: .5rem; color: var(--gray);">If you need to reach us sooner, please call <strong>01726 432051</strong>.</p>
                <a href="index.html" class="btn btn-primary" style="margin-top: 2rem;"><i class="fas fa-home"></i> Back to Home</a>
            </div>

            <!-- Booking Form -->
            <form id="bookingForm" class="booking-form fade-in" onsubmit="return false;">
                <input type="checkbox" name="botcheck" style="display: none;">

                <!-- Step 1: Service -->
                <div class="form-section">
                    <h3><span class="step-number">1</span> Select a Service</h3>
                    <div class="form-group">
                        <label for="service">Service Required *</label>
                        <select id="service" name="service" required>
                            <option value="">— Choose a service —</option>
                            <option value="lawn-cutting">Lawn Cutting</option>
                            <option value="hedge-trimming">Hedge Trimming</option>
                            <option value="garden-clearance">Garden Clearance</option>
                            <option value="scarifying">Scarifying</option>
                            <option value="lawn-treatment">Lawn Treatment</option>
                            <option value="strimming">Strimming &amp; Brush Cutting</option>
                            <option value="leaf-clearance">Leaf Clearance</option>
                            <!-- Coming soon — uncomment when ready to offer
                            <option value="power-washing">Power Washing</option>
                            <option value="weeding-treatment">Weeding Treatment</option>
                            <option value="fence-repair">Fence Repair</option>
                            <option value="drain-clearance">Drain Clearance</option>
                            <option value="gutter-cleaning">Gutter Cleaning</option>
                            <option value="veg-patch">Vegetable Patch Preparation</option>
                            <option value="emergency-tree">Emergency Tree Work</option>
                            -->
                            <option value="bespoke">Something Else / Custom Quote Request</option>
                        </select>
                        <div class="price-hint" id="priceHint" style="display:none;"></div>
                    </div>

                    <!-- Quote Builder hidden — Chris builds quotes in GGM Hub -->
                    <div id="quoteBuilder" class="quote-builder" style="display:none !important;"></div>

                    <!-- Job detail questions (shown when a service is selected) -->
                    <div id="gardenDetailsSection" style="display:none;margin-top:20px;padding:20px;background:#f0f7f0;border:2px solid #2E7D32;border-radius:12px;">
                        <h4 style="margin:0 0 6px;color:#1B5E20;font-size:1.05rem;"><i class="fas fa-clipboard-list"></i> Tell Us About the Job</h4>
                        <p style="color:#555;font-size:0.85rem;margin-bottom:16px;">These details help Chris give you an accurate quote straight away.</p>

                        <div class="form-group" id="gardenSizeGroup" style="display:none;">
                            <label for="gardenSize">Garden / Lawn Size</label>
                            <select id="gardenSize" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="small">Small (up to 50m²)</option>
                                <option value="medium">Medium (50–150m²)</option>
                                <option value="large">Large (150–300m²)</option>
                                <option value="xlarge">Extra Large (300m²+)</option>
                            </select>
                        </div>

                        <div class="form-group" id="gardenAreasGroup" style="display:none;">
                            <label for="gardenAreas">Which Areas?</label>
                            <select id="gardenAreas" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="front">Front garden only</option>
                                <option value="back">Back garden only</option>
                                <option value="both">Front &amp; Back</option>
                            </select>
                        </div>

                        <div class="form-group" id="gardenConditionGroup" style="display:none;">
                            <label for="gardenCondition">Current Condition</label>
                            <select id="gardenCondition" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="maintained">Well maintained / Regular upkeep</option>
                                <option value="slight">Slightly overgrown / Missed a few weeks</option>
                                <option value="overgrown">Very overgrown / Missed months</option>
                                <option value="neglected">Neglected / Not maintained for a long time</option>
                            </select>
                        </div>

                        <div class="form-group" id="hedgeCountGroup" style="display:none;">
                            <label for="hedgeCount">How Many Hedges?</label>
                            <select id="hedgeCount" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="1">1 hedge</option>
                                <option value="2">2 hedges</option>
                                <option value="3">3 hedges</option>
                                <option value="4+">4 or more hedges</option>
                            </select>
                        </div>

                        <div class="form-group" id="hedgeSizeGroup" style="display:none;">
                            <label for="hedgeSize">Approximate Hedge Size</label>
                            <select id="hedgeSize" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="small">Small (under 2m tall, under 5m long)</option>
                                <option value="medium">Medium (2–3m tall, 5–15m long)</option>
                                <option value="large">Large (3m+ tall or 15m+ long)</option>
                            </select>
                        </div>

                        <div class="form-group" id="clearanceLevelGroup" style="display:none;">
                            <label for="clearanceLevel">Level of Clearance Needed</label>
                            <select id="clearanceLevel" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="light">Light — tidy up, minor overgrowth</option>
                                <option value="medium">Medium — overgrown beds, some waste</option>
                                <option value="heavy">Heavy — fully overgrown / neglected</option>
                                <option value="full">Full property clearance</option>
                            </select>
                        </div>

                        <div class="form-group" id="wasteRemovalGroup" style="display:none;">
                            <label for="wasteRemoval">Waste Removal</label>
                            <select id="wasteRemoval" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="yes">Yes — take all waste away please</option>
                                <option value="no">No — I'll dispose of waste myself</option>
                                <option value="composting">Composting on site if possible</option>
                            </select>
                        </div>

                        <div class="form-group" id="treatmentTypeGroup" style="display:none;">
                            <label for="treatmentType">Treatment Type</label>
                            <select id="treatmentType" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="feedweed">Feed &amp; Weed (standard)</option>
                                <option value="moss">Moss Treatment</option>
                                <option value="full">Full Programme — Feed, Weed &amp; Moss</option>
                            </select>
                        </div>

                        <div class="form-group" id="strimmingTypeGroup" style="display:none;">
                            <label for="strimmingType">Type of Work Needed</label>
                            <select id="strimmingType" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="light">Light Strimming (edges, borders)</option>
                                <option value="brush">Brush Cutting — heavier growth</option>
                                <option value="full">Full Clearance — thick scrub &amp; brambles</option>
                            </select>
                        </div>

                        <!-- Future services (hidden until enabled in dropdown) -->
                        <div class="form-group" id="pwSurfaceGroup" style="display:none;">
                            <label for="pwSurface">Surface Type</label>
                            <select id="pwSurface" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="patio">Patio</option>
                                <option value="driveway">Driveway</option>
                                <option value="decking">Decking</option>
                                <option value="paths">Paths / Steps</option>
                                <option value="walls">Walls / Fencing</option>
                            </select>
                        </div>
                        <div class="form-group" id="pwAreaGroup" style="display:none;">
                            <label for="pwArea">Approximate Area Size</label>
                            <select id="pwArea" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;">
                                <option value="">— Please select —</option>
                                <option value="small">Small (up to 15m²)</option>
                                <option value="medium">Medium (15–40m²)</option>
                                <option value="large">Large (40–80m²)</option>
                                <option value="xlarge">Extra Large (80m²+)</option>
                            </select>
                        </div>
                        <div class="form-group" id="weedAreaGroup" style="display:none;">
                            <label for="weedArea">Area Size</label>
                            <select id="weedArea" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="small">Small (single border / beds)</option><option value="medium">Medium (front or back garden)</option><option value="large">Large (full garden)</option><option value="xlarge">Extra Large (extensive grounds)</option></select>
                        </div>
                        <div class="form-group" id="weedTypeGroup" style="display:none;">
                            <label for="weedType">Treatment Type</label>
                            <select id="weedType" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="hand">Hand weeding only</option><option value="spray">Spray treatment (selective)</option><option value="combo">Hand weeding + spray combo</option></select>
                        </div>
                        <div class="form-group" id="fenceTypeGroup" style="display:none;">
                            <label for="fenceType">Repair Type</label>
                            <select id="fenceType" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="1panel">Panel replacement (1 panel)</option><option value="2-3panels">Panel replacement (2–3 panels)</option><option value="4+panels">Panel replacement (4+ panels)</option><option value="post">Post repair / replacement</option><option value="rebuild">Full fence section rebuild</option></select>
                        </div>
                        <div class="form-group" id="fenceHeightGroup" style="display:none;">
                            <label for="fenceHeight">Fence Height</label>
                            <select id="fenceHeight" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="standard">Standard (up to 6ft)</option><option value="tall">Tall (over 6ft)</option></select>
                        </div>
                        <div class="form-group" id="drainTypeGroup" style="display:none;">
                            <label for="drainType">Drain Type</label>
                            <select id="drainType" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="single">Single blocked drain</option><option value="multiple">Multiple drains (2–3)</option><option value="full">Full garden drainage run</option></select>
                        </div>
                        <div class="form-group" id="drainConditionGroup" style="display:none;">
                            <label for="drainCondition">Drain Condition</label>
                            <select id="drainCondition" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="partial">Partially blocked (slow draining)</option><option value="full">Fully blocked (standing water)</option><option value="roots">Root ingress</option></select>
                        </div>
                        <div class="form-group" id="gutterSizeGroup" style="display:none;">
                            <label for="gutterSize">Property Size</label>
                            <select id="gutterSize" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="small">Small (terraced / 1–2 bed)</option><option value="medium">Medium (semi / 3 bed)</option><option value="large">Large (detached / 4+ bed)</option></select>
                        </div>
                        <div class="form-group" id="gutterConditionGroup" style="display:none;">
                            <label for="gutterCondition">Gutter Condition</label>
                            <select id="gutterCondition" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="routine">Routine clean (light debris)</option><option value="heavy">Heavy build-up / moss</option><option value="overflow">Overflowing / plant growth</option></select>
                        </div>
                        <div class="form-group" id="vegSizeGroup" style="display:none;">
                            <label for="vegSize">Patch Size</label>
                            <select id="vegSize" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="small">Small raised bed (up to 4m²)</option><option value="medium">Medium plot (4–12m²)</option><option value="large">Large allotment-style (12–30m²)</option><option value="xlarge">Extra Large (30m²+)</option></select>
                        </div>
                        <div class="form-group" id="vegConditionGroup" style="display:none;">
                            <label for="vegCondition">Current Condition</label>
                            <select id="vegCondition" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="bare">Bare soil — ready to prep</option><option value="overgrown">Overgrown — needs clearing first</option><option value="turf">New bed — turf removal required</option></select>
                        </div>
                        <div class="form-group" id="treeSizeGroup" style="display:none;">
                            <label for="treeSize">Tree Size</label>
                            <select id="treeSize" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="small">Small tree (under 5m)</option><option value="medium">Medium tree (5–10m)</option><option value="large">Large tree (10m+)</option></select>
                        </div>
                        <div class="form-group" id="treeWorkGroup" style="display:none;">
                            <label for="treeWork">Work Required</label>
                            <select id="treeWork" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;background:#fff;"><option value="">— Please select —</option><option value="branch">Fallen branch removal</option><option value="crown">Storm-damaged crown reduction</option><option value="felling">Emergency felling (dangerous tree)</option><option value="root">Root plate / stump emergency</option></select>
                        </div>

                        <div id="extrasSection" style="display:none;margin-top:12px;">
                            <label style="font-weight:600;color:#333;margin-bottom:8px;display:block;">Any extras needed?</label>
                            <p style="color:#888;font-size:0.82rem;margin-bottom:10px;">Tick any that apply — these help us quote accurately.</p>
                            <div id="extrasCheckboxes" style="display:flex;flex-direction:column;gap:8px;"></div>
                        </div>
                    </div>

                    <!-- INLINE FALLBACK: Show garden questions when service changes -->
                    <script>
                    (function(){
                        var svc = document.getElementById('service');
                        if (!svc) return;
                        var map = {
                            'lawn-cutting':     ['gardenSizeGroup','gardenAreasGroup','gardenConditionGroup'],
                            'hedge-trimming':   ['hedgeCountGroup','hedgeSizeGroup','gardenConditionGroup'],
                            'garden-clearance': ['clearanceLevelGroup','gardenAreasGroup','wasteRemovalGroup'],
                            'scarifying':       ['gardenSizeGroup','gardenAreasGroup','gardenConditionGroup'],
                            'lawn-treatment':   ['gardenSizeGroup','gardenAreasGroup','gardenConditionGroup','treatmentTypeGroup'],
                            'strimming':        ['gardenSizeGroup','gardenAreasGroup','gardenConditionGroup','strimmingTypeGroup'],
                            'leaf-clearance':   ['gardenSizeGroup','gardenAreasGroup'],
                            'power-washing':    ['pwSurfaceGroup','pwAreaGroup'],
                            'weeding-treatment':['weedAreaGroup','weedTypeGroup','gardenConditionGroup'],
                            'fence-repair':     ['fenceTypeGroup','fenceHeightGroup'],
                            'drain-clearance':  ['drainTypeGroup','drainConditionGroup'],
                            'gutter-cleaning':  ['gutterSizeGroup','gutterConditionGroup'],
                            'veg-patch':        ['vegSizeGroup','vegConditionGroup','gardenAreasGroup'],
                            'emergency-tree':   ['treeSizeGroup','treeWorkGroup']
                        };
                        var allGroups = ['gardenSizeGroup','gardenAreasGroup','gardenConditionGroup','hedgeCountGroup','hedgeSizeGroup','clearanceLevelGroup','wasteRemovalGroup','treatmentTypeGroup','strimmingTypeGroup','pwSurfaceGroup','pwAreaGroup','weedAreaGroup','weedTypeGroup','fenceTypeGroup','fenceHeightGroup','drainTypeGroup','drainConditionGroup','gutterSizeGroup','gutterConditionGroup','vegSizeGroup','vegConditionGroup','treeSizeGroup','treeWorkGroup'];

                        function update(){
                            var v = svc.value;
                            var sec = document.getElementById('gardenDetailsSection');
                            if (!sec) return;
                            // Hide all groups
                            for (var i=0;i<allGroups.length;i++){
                                var el = document.getElementById(allGroups[i]);
                                if (el) el.style.display = 'none';
                            }
                            var show = map[v];
                            if (!show || !show.length) { sec.style.display='none'; return; }
                            sec.style.display='block';
                            for (var j=0;j<show.length;j++){
                                var el2 = document.getElementById(show[j]);
                                if (el2) el2.style.display='block';
                            }
                        }
                        svc.addEventListener('change', update);
                        update(); // run on load in case pre-selected
                    })();
                    </script>

                    <!-- Bespoke Quote Request (appears when bespoke selected) -->
                    <div id="bespokeRequestForm" style="display:none;">
                        <div style="background:#FFF8E1;border:2px solid #FFC107;border-radius:12px;padding:24px;">
                            <h4 style="margin:0 0 10px;color:#E65100;"><i class="fas fa-hard-hat"></i> Bespoke Quote Request</h4>
                            <p style="color:#666;margin-bottom:16px;font-size:0.95rem;">Describe the work you need and we'll send you a detailed personalised quote. Chris will review your request and get back to you within 24 hours.</p>
                            <div class="form-group">
                                <label for="bespokeTitle">Job Title *</label>
                                <input type="text" id="bespokeTitle" placeholder="e.g. Full garden renovation, Large fence replacement, Landscaping..." style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;">
                            </div>
                            <div class="form-group">
                                <label for="bespokeDescription">Describe the work needed *</label>
                                <textarea id="bespokeDescription" rows="4" placeholder="Tell us as much as possible: size of area, current condition, what you'd like done, any access issues, photos can be shared later..." style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;resize:vertical;"></textarea>
                            </div>
                            <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;" class="bespoke-2col">
                                <div class="form-group">
                                    <label for="bespokeName">Your Name *</label>
                                    <input type="text" id="bespokeName" placeholder="Full name" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;">
                                </div>
                                <div class="form-group">
                                    <label for="bespokeEmail">Email *</label>
                                    <input type="email" id="bespokeEmail" placeholder="you@email.com" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;">
                                </div>
                                <div class="form-group">
                                    <label for="bespokePhone">Phone *</label>
                                    <input type="tel" id="bespokePhone" placeholder="07xxx xxxxxx" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;">
                                </div>
                                <div class="form-group">
                                    <label for="bespokePostcode">Postcode</label>
                                    <input type="text" id="bespokePostcode" placeholder="e.g. PL25 3AB" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="bespokeAddress">Address</label>
                                <input type="text" id="bespokeAddress" placeholder="Full address of property" style="width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;">
                            </div>
                            <button type="button" id="bespokeSubmitBtn" style="width:100%;background:#1B5E20;color:#fff;border:none;padding:14px;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer;margin-top:8px;"><i class="fas fa-paper-plane"></i> Request Your Free Quote</button>
                            <p style="text-align:center;color:#888;font-size:0.8rem;margin-top:10px;"><i class="fas fa-clock"></i> Typically quoted within 24 hours. No obligation.</p>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Date & Time -->
                <div class="form-section" id="bookingStep2">
                    <h3><span class="step-number">2</span> Choose Your Date &amp; Time</h3>
                    <p style="color:#666;font-size:0.85rem;margin-bottom:1rem;">Pick the date and time that works best for you. We'll book this slot unless it's not available, in which case we'll suggest the nearest alternative.</p>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="date">Date *</label>
                            <input type="text" id="date" name="date" placeholder="Click to select a date" required readonly>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Preferred Time *</label>
                        <div class="time-slots" id="timeSlots">
                            <div class="time-slot" data-time="08:00 - 09:00">8:00 AM</div>
                            <div class="time-slot" data-time="09:00 - 10:00">9:00 AM</div>
                            <div class="time-slot" data-time="10:00 - 11:00">10:00 AM</div>
                            <div class="time-slot" data-time="11:00 - 12:00">11:00 AM</div>
                            <div class="time-slot" data-time="12:00 - 13:00">12:00 PM</div>
                            <div class="time-slot" data-time="13:00 - 14:00">1:00 PM</div>
                            <div class="time-slot" data-time="14:00 - 15:00">2:00 PM</div>
                            <div class="time-slot" data-time="15:00 - 16:00">3:00 PM</div>
                            <div class="time-slot" data-time="16:00 - 17:00">4:00 PM</div>
                        </div>
                        <!-- HIDDEN: Emergency call-out slots — re-enable when emergency service offered
                        <div id="emergencySlots" style="display:none;">
                            <p style="margin:0.75rem 0 0.5rem;color:#e53935;font-weight:600;font-size:0.85rem;"><i class="fas fa-exclamation-triangle"></i> Emergency Call-Out Slots (50% surcharge applies)</p>
                            <div class="time-slots" id="emergencyTimeSlots">
                                <div class="time-slot emergency-slot" data-time="18:30 - 19:30">6:30 PM</div>
                                <div class="time-slot emergency-slot" data-time="19:30 - 20:30">7:30 PM</div>
                                <div class="time-slot emergency-slot" data-time="20:30 - 21:30">8:30 PM</div>
                                <div class="time-slot emergency-slot" data-time="06:00 - 07:00">6:00 AM</div>
                                <div class="time-slot emergency-slot" data-time="07:00 - 08:00">7:00 AM</div>
                            </div>
                        </div>
                        END HIDDEN -->
                        <input type="hidden" id="time" name="time" required>
                        <!-- Availability indicator -->
                        <div id="availabilityIndicator" class="availability-indicator" style="display:none;"></div>
                    </div>
                </div>

                <!-- Step 3: Your Details -->
                <div class="form-section" id="bookingStep3">
                    <h3><span class="step-number">3</span> Your Details</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Full Name *</label>
                            <input type="text" id="name" name="name" placeholder="John Smith" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input type="email" id="email" name="email" placeholder="john@example.com" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Phone Number *</label>
                            <input type="tel" id="phone" name="phone" placeholder="07123 456789" required>
                        </div>
                        <div class="form-group">
                            <label for="postcode">Postcode *</label>
                            <div class="al-postcode-row">
                                <input type="text" id="postcode" name="postcode" placeholder="PL26 8HN" required>
                                <button type="button" class="btn btn-primary btn-sm al-find-btn" id="bookFindAddr"><i class="fas fa-search"></i> Find Address</button>
                            </div>
                            <div class="al-dropdown" id="bookAddrDropdown"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="address">Property Address *</label>
                        <input type="text" id="address" name="address" placeholder="Use 'Find Address' above, or type your address" required>
                    </div>
                    <div class="form-group">
                        <label for="notes">Additional Notes <span style="color: var(--gray); font-weight: 400;">(optional)</span></label>
                        <textarea id="notes" name="notes" rows="4" placeholder="Tell us about your garden, any access issues, or special requirements..."></textarea>
                    </div>

                    <!-- Photo Upload — great for mobile users to show the job -->
                    <div class="form-group">
                        <label for="jobPhotos"><i class="fas fa-camera"></i> Photos of the Job <span style="color: var(--gray); font-weight: 400;">(optional — helps us quote accurately)</span></label>
                        <div class="photo-upload-zone" id="photoUploadZone">
                            <input type="file" id="jobPhotos" name="jobPhotos" accept="image/*" multiple capture="environment" class="photo-upload-input">
                            <div class="photo-upload-placeholder" id="photoPlaceholder">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <span>Tap to take a photo or choose from gallery</span>
                                <small>Up to 5 photos · JPG, PNG · Max 10MB each</small>
                            </div>
                            <div class="photo-preview-grid" id="photoPreviewGrid"></div>
                        </div>
                    </div>

                    <!-- INLINE FALLBACK: Photo upload handling (works even if booking.js fails) -->
                    <script>
                    (function(){
                        var inp = document.getElementById('jobPhotos');
                        var zone = document.getElementById('photoUploadZone');
                        var grid = document.getElementById('photoPreviewGrid');
                        var placeholder = document.getElementById('photoPlaceholder');
                        if (!inp || !zone) return;
                        // Skip if booking.js already bound handlers (check flag)
                        if (inp.dataset.handlerBound) return;
                        inp.dataset.handlerBound = '1';
                        window._bookingPhotos = window._bookingPhotos || [];
                        var MAX = 5, MAX_SIZE = 10*1024*1024;

                        inp.addEventListener('change', function(e){
                            if (e.target.files) addFiles(Array.from(e.target.files));
                        });
                        zone.addEventListener('dragover', function(e){ e.preventDefault(); zone.classList.add('dragover'); });
                        zone.addEventListener('dragleave', function(){ zone.classList.remove('dragover'); });
                        zone.addEventListener('drop', function(e){ e.preventDefault(); zone.classList.remove('dragover'); if(e.dataTransfer.files) addFiles(Array.from(e.dataTransfer.files)); });

                        function addFiles(files){
                            files.forEach(function(f){
                                if (window._bookingPhotos.length >= MAX) return;
                                if (!f.type.startsWith('image/')) return;
                                if (f.size > MAX_SIZE){ alert('"'+f.name+'" is too large (max 10MB).'); return; }
                                window._bookingPhotos.push(f);
                            });
                            render();
                        }

                        function render(){
                            if (!grid) return;
                            grid.innerHTML = '';
                            if (!window._bookingPhotos.length){ if(placeholder) placeholder.style.display=''; return; }
                            if(placeholder) placeholder.style.display='none';
                            window._bookingPhotos.forEach(function(f,i){
                                var d = document.createElement('div');
                                d.className = 'photo-preview-item';
                                d.innerHTML = '<img src="'+URL.createObjectURL(f)+'" alt="Photo '+(i+1)+'"><button type="button" class="photo-preview-remove" data-idx="'+i+'">&times;</button>';
                                grid.appendChild(d);
                            });
                            var c = document.createElement('div'); c.className='photo-upload-count'; c.textContent = window._bookingPhotos.length+' / '+MAX+' photos';
                            grid.appendChild(c);
                            grid.querySelectorAll('.photo-preview-remove').forEach(function(btn){
                                btn.addEventListener('click', function(ev){ ev.preventDefault(); ev.stopPropagation(); window._bookingPhotos.splice(parseInt(btn.dataset.idx),1); render(); });
                            });
                        }

                        // Expose send function for form submission fallback
                        window._sendBookingPhotos = function(name){
                            if (!window._bookingPhotos || !window._bookingPhotos.length) return;
                            var WEBHOOK = 'https://script.google.com/macros/s/AKfycbxaT1YOoDZtVHP9CztiUutYFqMiOyygDJon5BxCij14CWl91WgdmrYqpbG4KVAlFh5IiQ/exec';
                            window._bookingPhotos.forEach(function(file, i){
                                var reader = new FileReader();
                                reader.onload = function(){
                                    var b64 = reader.result.split(',')[1];
                                    var caption = i===0 ? '\ud83d\udcf8 Photos from '+name+'\'s enquiry ('+( i+1)+'/'+window._bookingPhotos.length+')' : '\ud83d\udcf8 Photo '+(i+1)+'/'+window._bookingPhotos.length;
                                    try { fetch(WEBHOOK, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ action:'relay_telegram_photo', fileContent:b64, mimeType:file.type, fileName:file.name, caption:caption }) }); } catch(e){}
                                };
                                reader.readAsDataURL(file);
                            });
                        };
                        console.log('[PhotoUpload] Inline fallback attached');
                    })();
                    </script>
                </div>

                <!-- Step 4 (Payment) removed — enquiry-only flow -->

                <!-- Submit -->
                <div class="form-section" id="bookingSubmitSection" style="border: none; padding-bottom: 0;">

                    <!-- Terms Agreement -->
                    <div class="terms-agreement" id="termsBlock" style="background:#f8faf8;border:1px solid #c8e6c9;border-radius:10px;padding:1rem 1.25rem;margin-bottom:1.25rem;">
                        <div id="termsEnquiry" class="terms-variant">
                            <label style="display:flex;align-items:flex-start;gap:0.65rem;cursor:pointer;font-size:0.88rem;line-height:1.5;color:#333;">
                                <input type="checkbox" id="termsCheckEnquiry" style="margin-top:4px;min-width:18px;min-height:18px;accent-color:#2E7D32;">
                                <span>I agree to the <a href="terms.html" target="_blank" style="color:#2E7D32;font-weight:600;">Terms of Service</a> and <a href="privacy.html" target="_blank" style="color:#2E7D32;font-weight:600;">Privacy Policy</a>. I understand this is an enquiry and no payment is taken now. Chris will review my request and provide a personalised quote.</span>
                            </label>
                        </div>
                        <p id="termsError" style="display:none;color:#e53935;font-size:0.82rem;margin:0.5rem 0 0 2rem;"><i class="fas fa-exclamation-circle"></i> You must agree to the terms before submitting.</p>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block" id="submitBtn">
                        <i class="fas fa-paper-plane"></i> Submit Enquiry — Get Your Free Quote
                    </button>
                    <p class="form-note" style="text-align: center; margin-top: 1rem; color: var(--gray); font-size: 0.85rem;">
                        <i class="fas fa-shield-alt"></i> No payment required. We'll review your enquiry and send you a personalised quote within 24 hours.
                    </p>
                </div>
            </form>
        </div>
    </section>
    </main>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3><img src="images/logo.png" alt="GGM" style="height:32px;vertical-align:middle;"> Gardners Ground Maintenance</h3>
                    <p>Professional gardening and ground maintenance services across Cornwall. Quality workmanship, competitive prices, and a friendly team you can trust.</p>
                    <div class="footer-social">
                        <a href="https://www.facebook.com/profile.php?id=61587714279629" target="_blank" rel="noopener" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.instagram.com/gardnersgm_kernow" target="_blank" rel="noopener" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://x.com/GmG84409" target="_blank" rel="noopener" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="services.html">Services</a></li>
                        <li><a href="booking.html">Get a Quote</a></li>
                        <li><a href="blog.html">Blog</a></li>
                        <li><a href="testimonials.html">Testimonials</a></li>
                        <li><a href="careers.html">Careers</a></li>
                        <li><a href="complaints.html">Complaints</a></li>
                        <li><a href="areas.html">Areas We Cover</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="services/lawn-cutting.html">Lawn Cutting</a></li>
                        <li><a href="services/hedge-trimming.html">Hedge Trimming</a></li>
                        <li><a href="services/garden-clearance.html">Garden Clearance</a></li>
                        <li><a href="booking.html?service=scarifying">Scarifying</a></li>
                        <li><a href="booking.html?service=lawn-treatment">Lawn Treatment</a></li>
                        <li><a href="booking.html?service=strimming">Strimming</a></li>
                        <li><a href="booking.html?service=leaf-clearance">Leaf Clearance</a></li>
                        <!-- HIDDEN: Services below not currently offered
                        <li><a href="services/scarifying.html">Scarifying</a></li>
                        <li><a href="services/lawn-treatment.html">Lawn Treatment</a></li>
                        <li><a href="services/power-washing.html">Power Washing</a></li>
                        <li><a href="services/veg-patch.html">Veg Patch Prep</a></li>
                        <li><a href="services/weeding-treatment.html">Weeding Treatment</a></li>
                        <li><a href="services/fence-repair.html">Fence Repair</a></li>
                        <li><a href="services/emergency-tree.html">Emergency Tree Surgery</a></li>
                        <li><a href="services/drain-clearance.html">Drain Clearance</a></li>
                        <li><a href="services/gutter-cleaning.html">Gutter Cleaning</a></li>
                        END HIDDEN -->
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Us</h3>
                    <ul>
                        <li><i class="fas fa-phone"></i>&nbsp; 01726 432051</li>
                        <li><i class="fas fa-envelope"></i>&nbsp; info@gardnersgm.co.uk</li>
                        <li><i class="fas fa-map-marker-alt"></i>&nbsp; Serving all of Cornwall</li>
                        <li><i class="fas fa-clock"></i>&nbsp; Mon-Sat: 8am - 6pm</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Gardners Ground Maintenance. All rights reserved. | <a href="terms.html" style="color: var(--primary-light);">Terms of Service</a> | <a href="privacy.html" style="color: var(--primary-light);">Privacy Policy</a> | Photos by <a href="https://www.pexels.com" target="_blank" style="color: var(--primary-light);">Pexels</a></p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.js"></script>
    <!-- Inline failsafe: initialise flatpickr calendar even if booking.js is browser-cached -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            var dateEl = document.getElementById('date');
            if (dateEl && typeof flatpickr !== 'undefined' && !dateEl._flatpickr) {
                flatpickr(dateEl, {
                    minDate: 'today',
                    maxDate: new Date(Date.now() + 90*24*60*60*1000),
                    dateFormat: 'l, j F Y',
                    disableMobile: true,
                    clickOpens: true,
                    allowInput: false,
                    disable: [function(d) { return d.getDay() === 0; }],
                    locale: { firstDayOfWeek: 1 },
                    animate: true
                });
                console.log('[Calendar] Failsafe flatpickr initialised');
            }
            var slots = document.querySelectorAll('#timeSlots .time-slot');
            var timeInput = document.getElementById('time');
            slots.forEach(function(slot) {
                if (!slot._clickBound) {
                    slot._clickBound = true;
                    slot.addEventListener('click', function() {
                        if (slot.classList.contains('slot-unavailable')) return;
                        slots.forEach(function(s) { s.classList.remove('selected'); });
                        slot.classList.add('selected');
                        if (timeInput) timeInput.value = slot.getAttribute('data-time');
                    });
                }
            });
        }, 1500);
    });
    </script>
    <script src="js/main.js"></script>
    <script src="js/site-banner.js"></script>
    <script src="js/distance.js"></script>
    <script src="js/address-lookup.js?v=20260218d"></script>
    <script src="js/booking.js?v=20260219d"></script>
    <script>
    // FAILSAFE: If booking.js fails to handle the form (JS error, failed to load, etc.),
    // this catches the submit and shows success. It checks if booking.js already handled it
    // by looking at form.style.display (booking.js sets it to 'none' on success).
    (function() {
        var form = document.getElementById('bookingForm');
        var success = document.getElementById('bookingSuccess');
        if (!form || !success) return;
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            // If booking.js already handled it (form hidden), don't duplicate
            if (form.style.display === 'none') return;
            // booking.js didn't handle it — send via fallback
            try {
                var url = 'https://script.google.com/macros/s/AKfycbxaT1YOoDZtVHP9CztiUutYFqMiOyygDJon5BxCij14CWl91WgdmrYqpbG4KVAlFh5IiQ/exec';
                var payload = JSON.stringify({
                    action: 'service_enquiry',
                    name: (document.getElementById('name') || {}).value || '',
                    email: (document.getElementById('email') || {}).value || '',
                    phone: (document.getElementById('phone') || {}).value || '',
                    postcode: (document.getElementById('postcode') || {}).value || '',
                    address: (document.getElementById('address') || {}).value || '',
                    service: (document.getElementById('service') || {}).value || '',
                    date: (document.getElementById('date') || {}).value || '',
                    time: (document.getElementById('time') || {}).value || '',
                    notes: (document.getElementById('notes') || {}).value || '',
                    source: 'failsafe'
                });
                if (navigator.sendBeacon) {
                    navigator.sendBeacon(url, new Blob([payload], {type:'text/plain'}));
                } else {
                    fetch(url, {method:'POST',mode:'no-cors',headers:{'Content-Type':'text/plain'},body:payload}).catch(function(){});
                }
            } catch(err) { /* ignore */ }
            // Send photos via inline fallback handler
            try { if (window._sendBookingPhotos) window._sendBookingPhotos((document.getElementById('name') || {}).value || 'Customer'); } catch(pe) {}
            form.style.display = 'none';
            success.style.display = 'block';
            window.scrollTo({top:0,behavior:'smooth'});
        });
    })();
    </script>
    <script>
    // FAILSAFE ADDRESS FINDER: Works even if booking.js or address-lookup.js fails
    (function() {
        var btn = document.getElementById('bookFindAddr');
        var pcInput = document.getElementById('postcode');
        var dropdown = document.getElementById('bookAddrDropdown');
        var addrInput = document.getElementById('address');
        if (!btn || !pcInput || !dropdown) { console.log('[AddrFailsafe] Missing elements'); return; }
        
        // Only attach if no handler was already set (check a flag)
        if (btn.dataset.handlerAttached) return;
        
        btn.addEventListener('click', async function() {
            // If AddressLookup already handled this (dropdown has content), skip
            if (dropdown.children.length > 0 && dropdown.style.display === 'block') return;
            
            var pc = pcInput.value.trim().replace(/\s+/g, '').toUpperCase();
            if (!pc || pc.length < 5) { pcInput.focus(); return; }
            
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            dropdown.innerHTML = '';
            dropdown.style.display = 'none';
            
            try {
                // Try Ideal Postcodes first
                var idealOk = false;
                try {
                    var idealResp = await fetch('https://api.ideal-postcodes.co.uk/v1/postcodes/' + encodeURIComponent(pc) + '?api_key=ak_test');
                    if (idealResp.ok) {
                        var idealData = await idealResp.json();
                        var results = idealData.result || [];
                        if (results.length > 0) {
                            idealOk = true;
                            var html = '<div class="al-hint"><i class="fas fa-check-circle" style="color:#2E7D32"></i> <strong>' + (results[0].postcode || pc) + '</strong> — ' + results.length + ' address' + (results.length !== 1 ? 'es' : '') + ' found</div>';
                            results.forEach(function(r, i) {
                                var display = [r.line_1, r.line_2, r.line_3, r.post_town].filter(Boolean).join(', ');
                                html += '<div class="al-option" data-idx="' + i + '" style="padding:0.6rem 1rem;cursor:pointer;border-bottom:1px solid #eee;font-size:0.88rem;" data-addr="' + display.replace(/"/g, '&quot;') + '">' + display + '</div>';
                            });
                            html += '<div class="al-option al-manual" data-idx="-1" style="padding:0.6rem 1rem;cursor:pointer;color:#2d6a4f;font-weight:600;font-size:0.82rem;"><i class="fas fa-pencil-alt"></i> Type address manually</div>';
                            dropdown.innerHTML = html;
                            dropdown.style.display = 'block';
                            if (results[0].postcode) pcInput.value = results[0].postcode;
                            // Click handlers
                            dropdown.querySelectorAll('.al-option').forEach(function(opt) {
                                opt.addEventListener('click', function() {
                                    dropdown.querySelectorAll('.al-option').forEach(function(o) { o.style.background = ''; o.style.fontWeight = ''; });
                                    opt.style.background = '#c8e6c9';
                                    opt.style.fontWeight = '600';
                                    var idx = parseInt(opt.dataset.idx);
                                    if (idx === -1) {
                                        if (addrInput) { addrInput.value = ''; addrInput.readOnly = false; addrInput.focus(); }
                                    } else {
                                        if (addrInput) { addrInput.value = opt.dataset.addr || opt.textContent; addrInput.readOnly = false; }
                                    }
                                });
                            });
                        }
                    }
                } catch(idealErr) { console.log('[AddrFailsafe] Ideal failed:', idealErr); }
                
                // Fallback to postcodes.io
                if (!idealOk) {
                    try {
                        var freeResp = await fetch('https://api.postcodes.io/postcodes/' + pc);
                        if (freeResp.ok) {
                            var freeData = await freeResp.json();
                            var r = freeData.result || {};
                            var town = r.admin_district || r.parliamentary_constituency || '';
                            var county = r.admin_county || r.region || '';
                            dropdown.innerHTML = '<div class="al-hint" style="padding:0.7rem 1rem;font-size:0.85rem;background:#f0faf4;border-radius:10px 10px 0 0;border-bottom:1px solid #eee;"><i class="fas fa-check-circle" style="color:#2E7D32"></i> <strong>' + (r.postcode || pc) + '</strong> — ' + town + (county ? ', ' + county : '') + '</div>' +
                                '<div class="al-hint" style="padding:0.7rem 1rem;font-size:0.85rem;border-radius:0 0 10px 10px;"><i class="fas fa-pencil-alt"></i> Please type your house number and street below</div>';
                            dropdown.style.display = 'block';
                            if (r.postcode) pcInput.value = r.postcode;
                            if (addrInput) { addrInput.readOnly = false; addrInput.value = ''; addrInput.placeholder = 'e.g. 12 High Street, ' + town; addrInput.focus(); }
                        } else {
                            dropdown.innerHTML = '<div style="padding:0.7rem 1rem;color:#E65100;font-size:0.85rem;"><i class="fas fa-exclamation-circle"></i> Postcode not found — please type your address below</div>';
                            dropdown.style.display = 'block';
                            if (addrInput) { addrInput.readOnly = false; addrInput.focus(); }
                        }
                    } catch(freeErr) {
                        dropdown.innerHTML = '<div style="padding:0.7rem 1rem;color:#E65100;font-size:0.85rem;"><i class="fas fa-exclamation-circle"></i> Lookup failed — please type your address below</div>';
                        dropdown.style.display = 'block';
                        if (addrInput) { addrInput.readOnly = false; addrInput.focus(); }
                    }
                }
            } catch(err) {
                console.error('[AddrFailsafe] Error:', err);
                dropdown.innerHTML = '<div style="padding:0.7rem 1rem;color:#E65100;font-size:0.85rem;"><i class="fas fa-exclamation-circle"></i> Something went wrong — please type your address below</div>';
                dropdown.style.display = 'block';
                if (addrInput) { addrInput.readOnly = false; addrInput.focus(); }
            }
            
            btn.disabled = false;
            btn.innerHTML = '<i class="fas fa-search"></i> Find Address';
        });
        console.log('[AddrFailsafe] Backup address finder attached');
    })();
    </script>
    <script src="js/chatbot.js"></script>
    <script src="js/newsletter.js"></script>
    <script src="js/analytics.js"></script>
</body>
</html>
